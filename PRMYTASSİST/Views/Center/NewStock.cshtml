@using Entity
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    List<Branch> branches = Query.Branches();
    User CurrentUser = Session["CurrentUser"] as User;
}


<div class="kt-content  kt-grid__item kt-grid__item--fluid" id="kt_content" style="padding-top: 5%;">
    <form class="kt-form kt-form--label-right" method="post" >

        <div class="kt-portlet kt-portlet--mobile">
            <div class="kt-portlet__head kt-portlet__head--lg pr-2 mr-2" style="min-height: 40px; justify-content: left; ">
                <div class="row pt-2 mt-2 pb-2 mb-2">
                    <div class="col-lg-2 mt-1 kt-portlet__head-label">
                        <select hidden id="userID" class="custom-select form-control" name="userID" style="color: red; font-weight: bold; ">
                            <!--  -->
                            <option value="@CurrentUser.ID"></option>

                        </select>
                        <span class="kt-portlet__head-icon">
                            <i class="flaticon-list"></i>
                        </span>
                        <h5 class="kt-subheader__title">
                            Depo Stok Girişi
                        </h5>
                    </div>
                    <div class="col-lg-3 mt-1 mr-0" style=" text-align: right; align-self: center;">
                        <select id="BranchID" class="custom-select form-control" name="BranchID" style="color: red; font-weight: bold; ">
                            @foreach (var item in branches.Where(q => q.isMaster == true && q.Visible == true))
                            {
                                <option value="@item.ID">@item.BranchName.ToUpper()</option>
                            }
                        </select>
                    </div>
                    <div class="col-md-3 mt-1 mb-1" style=" align-self: center; ">
                        <div class="input-group date" style="width:70%;">
                            <span id="kt_datepicker_3" class="input-group-text" style="width: 100%; align-items: normal; padding:inherit">
                                <input name="dateTimeforSOR" type="text" class="form-control" id="kt_datepicker_2" readonly placeholder="" value="" style=" font-size: 12px; color: red; text-align: center;" />
                                <span class="input-group-append">
                                    <span class="input-group-text">
                                        <i class="la la-calendar-check-o"></i>
                                    </span>
                                </span>
                            </span>

                        </div>
                    </div>
                    <div class="col-lg-2" style=" align-self: center; text-align:left;">
                        <a class="btn btn-elevate btn-icon-sm pl-0 ml-0 pt-0 pr-0 pb-2" style="align-self: center; font-weight: bold; font-size: 13px;">
                            Belge No:
                        </a>
                        <input disabled id="depotNewCode" class="pl-0 ml-0 pt-0 pr-0" style="color: red; background-color: transparent; font-size: 13px; width: 40px; border: 0px; font-size: 13px; font-weight: bold; " type="text" value="0" name="orderNewCode" placeholder="">
                        <input hidden id="depotNewCode2" class="pl-0 ml-0 col-md-2 pt-1 pr-0" style="color: red; background-color: transparent; width: 140px; border: 0px; font-size: 13px; font-weight: bold; " type="text" value="0" name="orderNewCode2" placeholder="">
                    </div>
                    <div class="col-lg-2" style="text-align-last: right;">
                        <button type="submit" class="btn btn-warning ml-2 " onclick="SaveStoreStockForBranch()" id="btn1">
                            <i class="la la-save"></i>
                            Kaydet
                        </button>
                    </div>
                </div>
            </div>

            <div class="kt-portlet kt-portlet--mobile pt-2">
                <div class="kt-portlet__body">
                    <!--begin: Datatable -->
                    <table class="table table-striped- table-bordered table-hover table-checkable" id="product_table">
                        <thead>
                            <tr>
                                <th>S/N </th>
                                <th>Ürün Grubu</th>
                                <th>Barkodu</th>
                                <th>Ürün Adı</th>
                                <th>Eldeki Stok</th>
                                <th>Açıklama</th>
                                <th></th>

                            </tr>
                        </thead>
                    </table>
                    <!--end: Datatable -->
                </div>
            </div>
        </div>
        </form>
</div>

<script src="./assets/vendors/general/jquery/dist/jquery.js" type="text/javascript"></script>
<script>
    $(document).ready(function () {
        depotRandomCode();
    });
</script>
<script>
    $(document).ready(function () {
        UTCToday();
    });
</script>

<script>
    $(document).ready(function () {
        getProductsStockForBranch();
    });
</script>
